{"version":3,"file":"CalloutContent.base.js","sourceRoot":"../src/","sources":["components/Callout/CalloutContent.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport {\n  css,\n  divProperties,\n  elementContains,\n  focusFirstChild,\n  getNativeProps,\n  on,\n  shallowCompare,\n  getPropsWithDefaults,\n} from '../../Utilities';\nimport {\n  positionCallout,\n  getMaxHeight,\n  RectangleEdge,\n  positionCard,\n  getBoundsFromTargetWindow,\n} from '../../Positioning';\nimport { Popup } from '../../Popup';\nimport { classNamesFunction } from '../../Utilities';\nimport { AnimationClassNames } from '../../Styling';\nimport { useMergedRefs, useAsync, useConst, useTarget } from '@fluentui/react-hooks';\nimport type { ICalloutProps, ICalloutContentStyleProps, ICalloutContentStyles } from './Callout.types';\nimport type { Point, IRectangle } from '../../Utilities';\nimport type { ICalloutPositionedInfo, IPositionProps, IPosition } from '../../Positioning';\nimport type { Target } from '@fluentui/react-hooks';\n\nconst COMPONENT_NAME = 'CalloutContentBase';\n\nconst ANIMATIONS: { [key: number]: string | undefined } = {\n  [RectangleEdge.top]: AnimationClassNames.slideUpIn10,\n  [RectangleEdge.bottom]: AnimationClassNames.slideDownIn10,\n  [RectangleEdge.left]: AnimationClassNames.slideLeftIn10,\n  [RectangleEdge.right]: AnimationClassNames.slideRightIn10,\n};\n\nconst BEAK_ORIGIN_POSITION = { top: 0, left: 0 };\n// Microsoft Edge will overwrite inline styles if there is an animation pertaining to that style.\n// To help ensure that edge will respect the offscreen style opacity\n// filter needs to be added as an additional way to set opacity.\n// Also set pointer-events: none so that the callout will not occlude the element it is\n// going to be positioned against\nconst OFF_SCREEN_STYLE: React.CSSProperties = { opacity: 0, filter: 'opacity(0)', pointerEvents: 'none' };\n// role and role description go hand-in-hand. Both would be included by spreading getNativeProps for a basic element\n// This constant array can be used to filter these out of native props spread on callout root and apply them together on\n// calloutMain (the Popup component within the callout)\nconst ARIA_ROLE_ATTRIBUTES = ['role', 'aria-roledescription'];\n\nconst DEFAULT_PROPS = {\n  preventDismissOnLostFocus: false,\n  preventDismissOnScroll: false,\n  preventDismissOnResize: false,\n  isBeakVisible: true,\n  beakWidth: 16,\n  gapSpace: 0,\n  minPagePadding: 8,\n  directionalHint: DirectionalHint.bottomAutoEdge,\n} as const;\n\nconst getClassNames = classNamesFunction<ICalloutContentStyleProps, ICalloutContentStyles>({\n  disableCaching: true, // disabling caching because stylesProp.position mutates often\n});\n\n/**\n * (Hook) to return a function to lazily fetch the bounds of the target element for the callout.\n */\nfunction useBounds(\n  { bounds, minPagePadding = DEFAULT_PROPS.minPagePadding, target }: ICalloutProps,\n  targetRef: React.RefObject<Element | MouseEvent | Point | null>,\n  targetWindow: Window | undefined,\n) {\n  const cachedBounds = React.useRef<IRectangle | undefined>();\n\n  const getBounds = React.useCallback((): IRectangle | undefined => {\n    if (!cachedBounds.current) {\n      let currentBounds =\n        typeof bounds === 'function' ? (targetWindow ? bounds(target, targetWindow) : undefined) : bounds;\n\n      if (!currentBounds && targetWindow) {\n        currentBounds = getBoundsFromTargetWindow(targetRef.current, targetWindow);\n        currentBounds = {\n          top: currentBounds.top + minPagePadding,\n          left: currentBounds.left + minPagePadding,\n          right: currentBounds.right! - minPagePadding,\n          bottom: currentBounds.bottom! - minPagePadding,\n          width: currentBounds.width - minPagePadding * 2,\n          height: currentBounds.height - minPagePadding * 2,\n        };\n      }\n      cachedBounds.current = currentBounds;\n    }\n\n    return cachedBounds.current;\n  }, [bounds, minPagePadding, target, targetRef, targetWindow]);\n\n  return getBounds;\n}\n\n/**\n * (Hook) to return the maximum available height for the Callout to render into.\n */\nfunction useMaxHeight(\n  { beakWidth, coverTarget, directionalHint, directionalHintFixed, gapSpace, isBeakVisible, hidden }: ICalloutProps,\n  targetRef: React.RefObject<Element | MouseEvent | Point | null>,\n  getBounds: () => IRectangle | undefined,\n) {\n  const [maxHeight, setMaxHeight] = React.useState<number | undefined>();\n  const async = useAsync();\n\n  // Updating targetRef won't re-render the component, but it's recalculated (if needed) with every render\n  // If it mutates, we want to re-run the effect\n  const currentTarget = targetRef.current;\n\n  React.useEffect(() => {\n    if (!maxHeight && !hidden) {\n      if (directionalHintFixed && currentTarget) {\n        // Since the callout cannot measure it's border size it must be taken into account here. Otherwise it will\n        // overlap with the target.\n        const totalGap: number = (gapSpace ?? 0) + (isBeakVisible && beakWidth ? beakWidth : 0);\n        async.requestAnimationFrame(() => {\n          if (targetRef.current) {\n            setMaxHeight(getMaxHeight(targetRef.current, directionalHint!, totalGap, getBounds(), coverTarget));\n          }\n        });\n      } else {\n        setMaxHeight(getBounds()?.height);\n      }\n    } else if (hidden) {\n      setMaxHeight(undefined);\n    }\n  }, [\n    targetRef,\n    currentTarget,\n    gapSpace,\n    beakWidth,\n    getBounds,\n    hidden,\n    async,\n    coverTarget,\n    directionalHint,\n    directionalHintFixed,\n    isBeakVisible,\n    maxHeight,\n  ]);\n\n  return maxHeight;\n}\n\n/**\n * (Hook) to return the height offset of the callout element and updates it each frame to approach the configured\n * finalHeight.\n */\nfunction useHeightOffset({ finalHeight, hidden }: ICalloutProps, calloutElement: React.RefObject<HTMLDivElement>) {\n  const [heightOffset, setHeightOffset] = React.useState<number>(0);\n  const async = useAsync();\n  const setHeightOffsetTimer = React.useRef<number | undefined>();\n\n  const setHeightOffsetEveryFrame = React.useCallback((): void => {\n    if (calloutElement.current && finalHeight) {\n      setHeightOffsetTimer.current = async.requestAnimationFrame(() => {\n        const calloutMainElem = calloutElement.current?.lastChild as HTMLElement;\n\n        if (!calloutMainElem) {\n          return;\n        }\n\n        const cardScrollHeight: number = calloutMainElem.scrollHeight;\n        const cardCurrHeight: number = calloutMainElem.offsetHeight;\n        const scrollDiff: number = cardScrollHeight - cardCurrHeight;\n\n        setHeightOffset(currentHeightOffset => currentHeightOffset + scrollDiff);\n\n        if (calloutMainElem.offsetHeight < finalHeight) {\n          setHeightOffsetEveryFrame();\n        } else {\n          async.cancelAnimationFrame(setHeightOffsetTimer.current!, calloutElement.current);\n        }\n      }, calloutElement.current);\n    }\n  }, [async, calloutElement, finalHeight]);\n\n  React.useEffect(() => {\n    if (!hidden) {\n      setHeightOffsetEveryFrame();\n    }\n  }, [finalHeight, hidden, setHeightOffsetEveryFrame]);\n\n  return heightOffset;\n}\n\n/**\n * (Hook) to find the current position of Callout. If Callout is resized then a new position is calculated.\n */\nfunction usePositions(\n  props: ICalloutProps,\n  hostElement: React.RefObject<HTMLDivElement>,\n  calloutElement: React.RefObject<HTMLDivElement>,\n  targetRef: React.RefObject<Element | MouseEvent | Point | null>,\n  getBounds: () => IRectangle | undefined,\n) {\n  const [positions, setPositions] = React.useState<ICalloutPositionedInfo>();\n  const positionAttempts = React.useRef(0);\n  const previousTarget = React.useRef<Target>();\n  const async = useAsync();\n  const { hidden, target, finalHeight, onPositioned, directionalHint } = props;\n\n  React.useEffect(() => {\n    if (!hidden) {\n      const timerId = async.requestAnimationFrame(() => {\n        // If we expect a target element to position against, we need to wait until `targetRef.current`\n        // is resolved. Otherwise we can try to position.\n        const expectsTarget = !!target;\n\n        if (hostElement.current && calloutElement.current && (!expectsTarget || targetRef.current)) {\n          const currentProps: IPositionProps = {\n            ...props,\n            target: targetRef.current!,\n            bounds: getBounds(),\n          };\n\n          const previousPositions = previousTarget.current === target ? positions : undefined;\n\n          // If there is a finalHeight given then we assume that the user knows and will handle\n          // additional positioning adjustments so we should call positionCard\n          const newPositions: ICalloutPositionedInfo = finalHeight\n            ? positionCard(currentProps, hostElement.current, calloutElement.current, previousPositions)\n            : positionCallout(currentProps, hostElement.current, calloutElement.current, previousPositions);\n          // Set the new position only when the positions are not exists or one of the new callout positions\n          // are different. The position should not change if the position is within 2 decimal places.\n          if (\n            (!positions && newPositions) ||\n            (positions && newPositions && !arePositionsEqual(positions, newPositions) && positionAttempts.current < 5)\n          ) {\n            // We should not reposition the callout more than a few times, if it is then the content is likely resizing\n            // and we should stop trying to reposition to prevent a stack overflow.\n            positionAttempts.current++;\n            setPositions(newPositions);\n          } else if (positionAttempts.current > 0) {\n            // Only call the onPositioned callback if the callout has been re-positioned at least once.\n            positionAttempts.current = 0;\n            onPositioned?.(positions);\n          }\n        }\n      }, calloutElement.current);\n\n      return () => async.cancelAnimationFrame(timerId);\n    }\n  }, [\n    hidden,\n    directionalHint,\n    async,\n    calloutElement,\n    hostElement,\n    targetRef,\n    finalHeight,\n    getBounds,\n    onPositioned,\n    positions,\n    props,\n    target,\n  ]);\n\n  previousTarget.current = target;\n\n  return positions;\n}\n\n/**\n * (Hook) to set up behavior to automatically focus the callout when it appears, if indicated by props.\n */\nfunction useAutoFocus(\n  { hidden, setInitialFocus }: ICalloutProps,\n  positions: ICalloutPositionedInfo | undefined,\n  calloutElement: React.RefObject<HTMLDivElement>,\n) {\n  const async = useAsync();\n  const hasPositions = !!positions;\n  React.useEffect(() => {\n    if (!hidden && setInitialFocus && hasPositions && calloutElement.current) {\n      const timerId = async.requestAnimationFrame(\n        () => focusFirstChild(calloutElement.current!),\n        calloutElement.current,\n      );\n\n      return () => async.cancelAnimationFrame(timerId);\n    }\n  }, [hidden, hasPositions, async, calloutElement, setInitialFocus]);\n}\n\n/**\n * (Hook) to set up various handlers to dismiss the popup when it loses focus or the window scrolls or similar cases.\n */\nfunction useDismissHandlers(\n  {\n    hidden,\n    onDismiss,\n    // eslint-disable-next-line deprecation/deprecation\n    preventDismissOnScroll,\n    // eslint-disable-next-line deprecation/deprecation\n    preventDismissOnResize,\n    // eslint-disable-next-line deprecation/deprecation\n    preventDismissOnLostFocus,\n    dismissOnTargetClick,\n    shouldDismissOnWindowFocus,\n    preventDismissOnEvent,\n  }: ICalloutProps,\n  positions: ICalloutPositionedInfo | undefined,\n  hostElement: React.RefObject<HTMLDivElement>,\n  targetRef: React.RefObject<Element | MouseEvent | Point | null>,\n  targetWindow: Window | undefined,\n) {\n  const isMouseDownOnPopup = React.useRef(false);\n  const async = useAsync();\n\n  const mouseDownHandlers = useConst([\n    () => {\n      isMouseDownOnPopup.current = true;\n    },\n    () => {\n      isMouseDownOnPopup.current = false;\n    },\n  ] as const);\n\n  const positionsExists = !!positions;\n\n  React.useEffect(() => {\n    const dismissOnScroll = (ev: Event) => {\n      if (positionsExists && !preventDismissOnScroll) {\n        dismissOnClickOrScroll(ev);\n      }\n    };\n\n    const dismissOnResize = (ev: Event) => {\n      if (!preventDismissOnResize && !(preventDismissOnEvent && preventDismissOnEvent(ev))) {\n        onDismiss?.(ev);\n      }\n    };\n\n    const dismissOnLostFocus = (ev: Event) => {\n      if (!preventDismissOnLostFocus) {\n        dismissOnClickOrScroll(ev);\n      }\n    };\n\n    const dismissOnClickOrScroll = (ev: Event) => {\n      const target = ev.target as HTMLElement;\n      const isEventTargetOutsideCallout = hostElement.current && !elementContains(hostElement.current, target);\n\n      // If mouse is pressed down on callout but moved outside then released, don't dismiss the callout.\n      if (isEventTargetOutsideCallout && isMouseDownOnPopup.current) {\n        isMouseDownOnPopup.current = false;\n        return;\n      }\n\n      if (\n        (!targetRef.current && isEventTargetOutsideCallout) ||\n        (ev.target !== targetWindow &&\n          isEventTargetOutsideCallout &&\n          (!targetRef.current ||\n            'stopPropagation' in targetRef.current ||\n            dismissOnTargetClick ||\n            (target !== targetRef.current && !elementContains(targetRef.current as HTMLElement, target))))\n      ) {\n        if (preventDismissOnEvent && preventDismissOnEvent(ev)) {\n          return;\n        }\n        onDismiss?.(ev);\n      }\n    };\n\n    const dismissOnTargetWindowBlur = (ev: FocusEvent) => {\n      // Do nothing\n      if (!shouldDismissOnWindowFocus) {\n        return;\n      }\n\n      if (\n        ((preventDismissOnEvent && !preventDismissOnEvent(ev)) ||\n          (!preventDismissOnEvent && !preventDismissOnLostFocus)) &&\n        !targetWindow?.document.hasFocus() &&\n        ev.relatedTarget === null\n      ) {\n        onDismiss?.(ev);\n      }\n    };\n\n    // This is added so the callout will dismiss when the window is scrolled\n    // but not when something inside the callout is scrolled. The delay seems\n    // to be required to avoid React firing an async focus event in IE from\n    // the target changing focus quickly prior to rendering the callout.\n    const disposablesPromise = new Promise<() => void>(resolve => {\n      async.setTimeout(() => {\n        if (!hidden && targetWindow) {\n          const disposables = [\n            on(targetWindow, 'scroll', dismissOnScroll, true),\n            on(targetWindow, 'resize', dismissOnResize, true),\n            on(targetWindow.document.documentElement, 'focus', dismissOnLostFocus, true),\n            on(targetWindow.document.documentElement, 'click', dismissOnLostFocus, true),\n            on(targetWindow, 'blur', dismissOnTargetWindowBlur, true),\n          ];\n\n          resolve(() => {\n            disposables.forEach(dispose => dispose());\n          });\n        }\n      }, 0);\n    });\n\n    return () => {\n      disposablesPromise.then(dispose => dispose());\n    };\n  }, [\n    hidden,\n    async,\n    hostElement,\n    targetRef,\n    targetWindow,\n    onDismiss,\n    shouldDismissOnWindowFocus,\n    dismissOnTargetClick,\n    preventDismissOnLostFocus,\n    preventDismissOnResize,\n    preventDismissOnScroll,\n    positionsExists,\n    preventDismissOnEvent,\n  ]);\n\n  return mouseDownHandlers;\n}\n\nexport const CalloutContentBase: React.FunctionComponent<ICalloutProps> = React.memo(\n  React.forwardRef<HTMLDivElement, ICalloutProps>((propsWithoutDefaults, forwardedRef) => {\n    const props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n\n    const {\n      styles,\n      style,\n      ariaLabel,\n      ariaDescribedBy,\n      ariaLabelledBy,\n      className,\n      isBeakVisible,\n      children,\n      beakWidth,\n      calloutWidth,\n      calloutMaxWidth,\n      calloutMinWidth,\n      doNotLayer,\n      finalHeight,\n      hideOverflow = !!finalHeight,\n      backgroundColor,\n      calloutMaxHeight,\n      onScroll,\n      // eslint-disable-next-line deprecation/deprecation\n      shouldRestoreFocus = true,\n      target,\n      hidden,\n      onLayerMounted,\n    } = props;\n\n    const hostElement = React.useRef<HTMLDivElement>(null);\n    const calloutElement = React.useRef<HTMLDivElement>(null);\n    const rootRef = useMergedRefs(hostElement, forwardedRef);\n\n    const [targetRef, targetWindow] = useTarget(props.target, calloutElement);\n    const getBounds = useBounds(props, targetRef, targetWindow);\n    const maxHeight = useMaxHeight(props, targetRef, getBounds);\n    const heightOffset = useHeightOffset(props, calloutElement);\n    const positions = usePositions(props, hostElement, calloutElement, targetRef, getBounds);\n    const [mouseDownOnPopup, mouseUpOnPopup] = useDismissHandlers(\n      props,\n      positions,\n      hostElement,\n      targetRef,\n      targetWindow,\n    );\n\n    useAutoFocus(props, positions, calloutElement);\n\n    React.useEffect(() => {\n      if (!hidden) {\n        onLayerMounted?.();\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps -- should only run if hidden changes\n    }, [hidden]);\n\n    // If there is no target window then we are likely in server side rendering and we should not render anything.\n    if (!targetWindow) {\n      return null;\n    }\n\n    const getContentMaxHeight: number | undefined = maxHeight ? maxHeight + heightOffset : undefined;\n    const contentMaxHeight: number | undefined = calloutMaxHeight || getContentMaxHeight;\n    const overflowYHidden = hideOverflow;\n\n    const beakVisible = isBeakVisible && !!target;\n    const classNames = getClassNames(styles!, {\n      theme: props.theme!,\n      className,\n      overflowYHidden: overflowYHidden,\n      calloutWidth,\n      positions,\n      beakWidth,\n      backgroundColor,\n      calloutMaxWidth,\n      calloutMinWidth,\n      doNotLayer,\n    });\n\n    const overflowStyle: React.CSSProperties = {\n      maxHeight: contentMaxHeight,\n      ...style,\n      ...(overflowYHidden && { overflowY: 'hidden' }),\n    };\n\n    const visibilityStyle: React.CSSProperties | undefined = props.hidden ? { visibility: 'hidden' } : undefined;\n    // React.CSSProperties does not understand IRawStyle, so the inline animations will need to be cast as any for now.\n    const content = (\n      <div ref={rootRef} className={classNames.container} style={visibilityStyle}>\n        <div\n          {...getNativeProps(props, divProperties, ARIA_ROLE_ATTRIBUTES)}\n          className={css(classNames.root, positions && positions.targetEdge && ANIMATIONS[positions.targetEdge!])}\n          style={positions ? positions.elementPosition : OFF_SCREEN_STYLE}\n          // Safari and Firefox on Mac OS requires this to back-stop click events so focus remains in the Callout.\n          // See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus\n          tabIndex={-1}\n          ref={calloutElement}\n        >\n          {beakVisible && <div className={classNames.beak} style={getBeakPosition(positions)} />}\n          {beakVisible && <div className={classNames.beakCurtain} />}\n          <Popup\n            {...getNativeProps(props, ARIA_ROLE_ATTRIBUTES)}\n            ariaDescribedBy={ariaDescribedBy}\n            ariaLabel={ariaLabel}\n            ariaLabelledBy={ariaLabelledBy}\n            className={classNames.calloutMain}\n            onDismiss={props.onDismiss}\n            onMouseDown={mouseDownOnPopup}\n            onMouseUp={mouseUpOnPopup}\n            onRestoreFocus={props.onRestoreFocus}\n            onScroll={onScroll}\n            shouldRestoreFocus={shouldRestoreFocus}\n            style={overflowStyle}\n          >\n            {children}\n          </Popup>\n        </div>\n      </div>\n    );\n\n    return content;\n  }),\n  (previousProps: ICalloutProps, nextProps: ICalloutProps) => {\n    if (!nextProps.shouldUpdateWhenHidden && previousProps.hidden && nextProps.hidden) {\n      // Do not update when hidden.\n      return true;\n    }\n    return shallowCompare(previousProps, nextProps);\n  },\n);\n\n/**\n * (Utility) to find and return the current `Callout` Beak position.\n *\n * @param positions\n */\nfunction getBeakPosition(positions?: ICalloutPositionedInfo): React.CSSProperties {\n  const beakPositionStyle: React.CSSProperties = {\n    ...positions?.beakPosition?.elementPosition,\n  };\n\n  if (!beakPositionStyle.top && !beakPositionStyle.bottom && !beakPositionStyle.left && !beakPositionStyle.right) {\n    beakPositionStyle.left = BEAK_ORIGIN_POSITION.left;\n    beakPositionStyle.top = BEAK_ORIGIN_POSITION.top;\n  }\n\n  return beakPositionStyle;\n}\n\n/**\n * (Utility) used to compare two different elementPositions to determine whether they are equal.\n *\n * @param prevElementPositions\n * @param newElementPosition\n */\nfunction arePositionsEqual(\n  prevElementPositions: ICalloutPositionedInfo,\n  newElementPosition: ICalloutPositionedInfo,\n): boolean {\n  return (\n    comparePositions(prevElementPositions.elementPosition, newElementPosition.elementPosition) &&\n    comparePositions(prevElementPositions.beakPosition.elementPosition, newElementPosition.beakPosition.elementPosition)\n  );\n}\n\n/**\n * (Utility) used in **arePositionsEqual** to compare two different elementPositions.\n *\n * @param prevElementPositions\n * @param newElementPositions\n */\nfunction comparePositions(prevElementPositions: IPosition, newElementPositions: IPosition): boolean {\n  for (const key in newElementPositions) {\n    if (newElementPositions.hasOwnProperty(key)) {\n      const oldPositionEdge = prevElementPositions[key];\n      const newPositionEdge = newElementPositions[key];\n      if (oldPositionEdge !== undefined && newPositionEdge !== undefined) {\n        if (oldPositionEdge.toFixed(2) !== newPositionEdge.toFixed(2)) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nCalloutContentBase.displayName = COMPONENT_NAME;\n"]}